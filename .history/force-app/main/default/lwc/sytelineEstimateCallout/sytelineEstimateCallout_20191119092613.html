<template>
    <lightning-card title="SyteLine CPQ Estimate"> 
        <span class={cssDisplay}>
            <div id="spinnerDiv" class="demo-only demo--inverse" style="height: 10rem">
            <div class="slds-spinner_container">
                <div role="status" class="slds-spinner slds-spinner_medium">
                    <span class="slds-assistive-text">Loading</span>
                    <div class="slds-spinner__dot-a"></div>
                    <div class="slds-spinner__dot-b"></div>
                </div>
            </div>
            </div>
        </span> 
        <lightning-layout>
            <lightning-layout-item size="6" padding="around-medium">
                <lightning-card title="Syteline Actions">
                    <lightning-button variant="brand" label="Verify Estimate" title="Verify there is an estimate" onclick={checkEstimate} ></lightning-button>
                </lightning-card>
            </lightning-layout-item>
            <lightning-layout-item size="6" padding="around-medium">
                <lightning-card title="View Syteline Fields">
                    <lightning-record-view-form record-id={recordId} object-api-name="Opportunity">
                        <template if:true={estimateDoesNotExist}>
                            <lightning-button variant="brand" label="New Estimate" title="Create a new estimate" onclick={createAnEstimate} ></lightning-button>
                        </template>
                        <template if:true={estimateExists}>
                            <lightning-button variant="brand" label="New Estimate" title="Create a new estimate" onclick={createAnEstimate} ></lightning-button>
                            <br>
                            <lightning-button variant="brand" label="Go To Estimate" title="Go to the existing estimate" onclick={goToEstimate} ></lightning-button>
                        </template>
                    </lightning-record-view-form>
                </lightning-card>
            </lightning-layout-item>
        </lightning-layout>
    </lightning-card>
</template>